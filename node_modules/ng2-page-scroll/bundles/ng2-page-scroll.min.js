System.registerDynamic("src/ng2-page-scroll.directive",["@angular/core","@angular/router","@angular/platform-browser","./ng2-page-scroll-config","./ng2-page-scroll-manager"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,b)},f=this&&this.__param||function(a,b){return function(c,d){b(c,d,a)}},g=a("@angular/core"),h=a("@angular/router"),i=a("@angular/platform-browser"),j=a("./ng2-page-scroll-config"),k=a("./ng2-page-scroll-manager"),l=function(){function a(a,b){this.router=a,this.document=b,this.pageScrollOffset=null,this.pageScrollDuration=null,this.pageScrollEasing=null,this.pageScrollFinish=new g.EventEmitter,this.timer=null,this.interruptListenersAttached=!1,this.body=b.body,this.scrollTopSources=[this.document.documentElement,this.body,this.document.body.parentNode]}return a.isUndefinedOrNull=function(a){return"undefined"==typeof a||void 0===a||null===a},a.prototype.ngOnDestroy=function(){this.interruptListenersAttached&&k.PageScrollManager.detachInterfereListeners(this.body)},a.prototype.stop=function(){return this.stopInternal(!0)},a.prototype.handleClick=function(a){var b=this;if(this.routerLink)var c=this.router.events.subscribe(function(a){a instanceof h.NavigationEnd?(c.unsubscribe(),b.scrollView(b.href)):(a instanceof h.NavigationError||a instanceof h.NavigationCancel)&&c.unsubscribe()});else this.scrollView(this.href);return!1},a.prototype.scrollView=function(b){var c=this;k.PageScrollManager.stopAll();var d=this.document.getElementById(b.substr(1));if(null!==d){var e=a.isUndefinedOrNull(this.pageScrollOffset)?j.PageScrollConfig.defaultScrollOffset:this.pageScrollOffset,f=d.offsetTop-e,g=this.scrollTopSources.reduce(function(a,b,c,d){return a?a:b&&b.scrollTop},void 0),h=f-g;if(0!==h){var i=(new Date).getTime(),l={startScrollTop:g,targetScrollTop:f,distanceToScroll:h,startTime:i,easing:null===this.pageScrollEasing?j.PageScrollConfig.defaultEasingFunction:this.pageScrollEasing};if(l.duration=null===this.pageScrollDuration?j.PageScrollConfig.defaultDuration:this.pageScrollDuration,l.endTime=l.startTime+l.duration,l.duration<=j.PageScrollConfig._interval)return this.body.scrollTop=l.targetScrollTop,void this.pageScrollFinish.emit(!0);(this.pageScrollInterruptible||a.isUndefinedOrNull(this.pageScrollInterruptible)&&j.PageScrollConfig.defaultInterruptible)&&(k.PageScrollManager.attachInterfereListeners(this.body),this.interruptListenersAttached=!0),this.timer=setInterval(function(b){var d,e=(new Date).getTime();b.endTime<=e?(c.stopInternal(!1),d=b.targetScrollTop):d=b.easing(e-b.startTime,b.startScrollTop,b.distanceToScroll,b.duration),c.scrollTopSources.forEach(function(b){b&&!a.isUndefinedOrNull(b.scrollTop)&&(b.scrollTop=d)})},j.PageScrollConfig._interval,l),k.PageScrollManager.add(this)}}},a.prototype.stopInternal=function(a){return k.PageScrollManager.remove(this),this.interruptListenersAttached&&(k.PageScrollManager.detachInterfereListeners(this.body),this.interruptListenersAttached=!1),!!this.timer&&(clearInterval(this.timer),this.pageScrollFinish.emit(!a),!0)},d([g.Input(),e("design:type",Object)],a.prototype,"routerLink",void 0),d([g.Input(),e("design:type",String)],a.prototype,"href",void 0),d([g.Input(),e("design:type",Number)],a.prototype,"pageScrollOffset",void 0),d([g.Input(),e("design:type",Number)],a.prototype,"pageScrollDuration",void 0),d([g.Input(),e("design:type",Function)],a.prototype,"pageScrollEasing",void 0),d([g.Input(),e("design:type",Boolean)],a.prototype,"pageScrollInterruptible",void 0),d([g.Output(),e("design:type",g.EventEmitter)],a.prototype,"pageScrollFinish",void 0),a=d([g.Directive({selector:"[pageScroll]",host:{"(click)":"handleClick($event)"}}),f(1,g.Inject(i.DOCUMENT)),e("design:paramtypes",[h.Router,Object])],a)}();return b.PageScroll=l,c.exports}),System.registerDynamic("src/ng2-page-scroll-manager",["./ng2-page-scroll-config"],!0,function(a,b,c){"use strict";var d=a("./ng2-page-scroll-config"),e=function(){function a(){}return a.add=function(a){this.runningInstances.push(a)},a.stopAll=function(){return a.runningInstances.length>0&&(a.runningInstances.forEach(function(a,b){a.stop()}),!0)},a.remove=function(b){var c=a.runningInstances.indexOf(b);return c>=0&&(a.runningInstances.splice(c,1),!0)},a.attachInterfereListeners=function(b){d.PageScrollConfig._interruptEvents.forEach(function(c){return b.addEventListener(c,a.listener)})},a.detachInterfereListeners=function(b){d.PageScrollConfig._interruptEvents.forEach(function(c){return b.removeEventListener(c,a.listener)})},a.runningInstances=[],a.listener=function(b){("keyup"!==b.type||d.PageScrollConfig._interruptKeys.indexOf(b.keyCode)>=0)&&a.stopAll()},a}();return b.PageScrollManager=e,c.exports}),System.registerDynamic("src/ng2-page-scroll-config",[],!0,function(a,b,c){"use strict";var d=function(){function a(){}return Object.defineProperty(a,"defaultEasingFunction",{get:function(){return a._easingFunction},set:function(b){a._easingFunction=b},enumerable:!0,configurable:!0}),a._interval=10,a.defaultDuration=1250,a.defaultScrollOffset=0,a._interruptEvents=["mousedown","wheel","DOMMouseScroll","mousewheel","keyup","touchmove"],a._interruptKeys=[33,34,35,36,38,40],a.defaultInterruptible=!0,a._easingFunction=function(a,b,c,d){return c*a/d+b},a}();return b.PageScrollConfig=d,c.exports}),System.registerDynamic("ng2-page-scroll",["./src/ng2-page-scroll.directive","./src/ng2-page-scroll-manager","./src/ng2-page-scroll-config"],!0,function(a,b,c){"use strict";function d(a){for(var c in a)b.hasOwnProperty(c)||(b[c]=a[c])}return d(a("./src/ng2-page-scroll.directive")),d(a("./src/ng2-page-scroll-manager")),d(a("./src/ng2-page-scroll-config")),c.exports});
//# sourceMappingURL=ng2-page-scroll.min.js.map